commit e1b89c5043262e7ffc91e50a95a566a16a4ab813
Author: Muli Ben-Yehuda <mulix@mulix.org>
Date:   Wed Feb 26 16:41:07 2003 -0800

    [PATCH] AD1848 OSS driver build fix
    
    This patch fixes bugzilla bug #398,
    http://bugme.osdl.org/show_bug.cgi?id=398, PNP API breakage in the
    ad1848 sound driver.

diff --git a/sound/oss/ad1848.c b/sound/oss/ad1848.c
index 0587a07..ea90aa0 100644
--- a/sound/oss/ad1848.c
+++ b/sound/oss/ad1848.c
@@ -2987,7 +2987,7 @@ static struct pnp_dev *activate_dev(char
 	if (err < 0)
 		return(NULL);
 
-	if((err = pnp_activate_dev(dev,NULL)) < 0) {
+	if((err = pnp_activate_dev(dev)) < 0) {
 		printk(KERN_ERR "ad1848: %s %s config failed (out of resources?)[%d]\n", devname, resname, err);
 
 		pnp_device_detach(dev);
@@ -3024,7 +3024,7 @@ static struct pnp_dev *ad1848_init_gener
 
 static int __init ad1848_isapnp_init(struct address_info *hw_config, struct pnp_card *bus, int slot)
 {
-	char *busname = bus->name[0] ? bus->name : ad1848_isapnp_list[slot].name;
+	char *busname = bus->dev.name[0] ? bus->dev.name : ad1848_isapnp_list[slot].name;
 
 	/* Initialize this baby. */
 
