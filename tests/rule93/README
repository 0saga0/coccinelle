Cocci file: rule93.cocci
No bugs
The semantic patch is not so nice because it contains calls to unlikely
everywhere, to accomodate the one file that uses this.


8139too.c
 * [status] ok

airo.c
 * [status] ok

core.c
 * [status] ok

cs.c
 * [status] ok

dvb_frontend.c
 * [status] ok

file_storage.c
 * [status] ok

gameport.c
 * [status] ok

hub.c
 * [status] ok

ieee1394_core.c
 * [status] ok
 had to add an extra rule to drop enclosing braces when an if branch would
 end up with a single statement

md.c
 * [status] ok

msp3400.c
 * [status] ok

nodemgr.c
 * [status] ok

pktcdvd.c
 * [status] ok

serio.c
 * [status] ok

sir_kthread.c
 * [status] ok

stir4200.c
 * [status] ok

therm_adt746x.c
 * [status] ok

usb.c
 * [status] ok

video-buf-dvb.c
 * [status] ok

w1.c
 * [status] ok

Key: ok means a .ok file is generated
     spatch-ok means that the result is different in inessential ways
     wrong means that the result is wrong
     error means that coccinelle crashes
     bugs refers to cases where the hand transformation is wrong.
